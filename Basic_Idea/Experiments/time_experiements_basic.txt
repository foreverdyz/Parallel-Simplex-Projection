The results of the basic idea experiments, the idea is parallel sort + parallel scan
foo1() is the serial algorithm, which includes quick sort + checking summations one by one.
foo2() includes the parallel merge sort from ThreadsX and prefix sum.
foo3() includes the parallel merge sort from ThreadsX and a new parallel scan method.
This file shows the time results of foo1(), foo2() and foo3().

###################################

The number of threads is 2
===================================
Trail 1 with uniform distribution.

With rand(10_000) data,
foo1: TrialEstimate(1.259 ms)
foo2: TrialEstimate(1.121 ms)
foo3: TrialEstimate(857.732 μs)

With rand(100_000) data,
foo1: TrialEstimate(13.140 ms)
foo2: TrialEstimate(5.924 ms)
foo3: TrialEstimate(5.442 ms)

With rand(1_000_000) data,
foo1: TrialEstimate(148.823 ms)
foo2: TrialEstimate(72.478 ms)
foo3: TrialEstimate(69.698 ms)

With rand(10_000_000) data,
foo1: TrialEstimate(1.896 s)
foo2: TrialEstimate(767.702 ms)
foo3: TrialEstimate(712.650 ms)
===================================

The number of threads is 2
===================================
Trail 2 with norm distribution.

With rand(Normal(1,1),10_000) data,
foo1: TrialEstimate(1.089 ms)
foo2: TrialEstimate(1.336 ms)
foo3: TrialEstimate(1.082 ms)

With rand(Normal(1,1),100_000) data,
foo1: TrialEstimate(11.142 ms)
foo2: TrialEstimate(6.893 ms)
foo3: TrialEstimate(6.390 ms)

With rand(Normal(1,1),1_000_000) data,
foo1: TrialEstimate(132.151 ms)
foo2: TrialEstimate(79.007 ms)
foo3: TrialEstimate(77.287 ms)

With rand(Normal(1,1),10_000_000) data,
foo1: TrialEstimate(1.479 s)
foo2: TrialEstimate(915.415 ms)
foo3: TrialEstimate(870.605 ms)
===================================

The number of threads is 2
===================================
Trail 3 with exponential distribution.

With rand(Exponential(10),10_000) data,
foo1: TrialEstimate(616.506 μs)
foo2: TrialEstimate(1.197 ms)
foo3: TrialEstimate(802.482 μs)

With rand(Exponential(10),100_000) data,
foo1: TrialEstimate(6.897 ms)
foo2: TrialEstimate(6.713 ms)
foo3: TrialEstimate(6.180 ms)

With rand(Exponential(10),1_000_000) data,
foo1: TrialEstimate(76.942 ms)
foo2: TrialEstimate(77.878 ms)
foo3: TrialEstimate(76.230 ms)

With rand(Exponential(10),10_000_000) data,
foo1: TrialEstimate(934.317 ms)
foo2: TrialEstimate(845.469 ms)
foo3: TrialEstimate(812.010 ms)

###################################

###################################

The number of threads is 3
===================================
Trail 1 with uniform distribution.

With rand(10_000) data,
foo1: TrialEstimate(1.197 ms)
foo2: TrialEstimate(969.216 μs)
foo3: TrialEstimate(735.815 μs)

With rand(100_000) data,
foo1: TrialEstimate(12.475 ms)
foo2: TrialEstimate(4.537 ms)
foo3: TrialEstimate(4.144 ms)

With rand(1_000_000) data,
foo1: TrialEstimate(139.692 ms)
foo2: TrialEstimate(54.372 ms)
foo3: TrialEstimate(53.141 ms)

With rand(10_000_000) data,
foo1: TrialEstimate(1.905 s)
foo2: TrialEstimate(639.667 ms)
foo3: TrialEstimate(587.085 ms)
===================================

The number of threads is 3
===================================
Trail 2 with norm distribution.

With rand(Normal(1,1),10_000) data,
foo1: TrialEstimate(1.026 ms)
foo2: TrialEstimate(1.190 ms)
foo3: TrialEstimate(970.322 μs)

With rand(Normal(1,1),100_000) data,
foo1: TrialEstimate(10.526 ms)
foo2: TrialEstimate(5.634 ms)
foo3: TrialEstimate(5.249 ms)

With rand(Normal(1,1),1_000_000) data,
foo1: TrialEstimate(116.334 ms)
foo2: TrialEstimate(63.700 ms)
foo3: TrialEstimate(62.440 ms)

With rand(Normal(1,1),10_000_000) data,
foo1: TrialEstimate(1.501 s)
foo2: TrialEstimate(721.155 ms)
foo3: TrialEstimate(686.651 ms)
===================================

The number of threads is 3
===================================
Trail 3 with exponential distribution.

With rand(Exponential(10),10_000) data,
foo1: TrialEstimate(557.927 μs)
foo2: TrialEstimate(1.050 ms)
foo3: TrialEstimate(710.194 μs)

With rand(Exponential(10),100_000) data,
foo1: TrialEstimate(6.216 ms)
foo2: TrialEstimate(5.370 ms)
foo3: TrialEstimate(4.857 ms)

With rand(Exponential(10),1_000_000) data,
foo1: TrialEstimate(68.775 ms)
foo2: TrialEstimate(61.524 ms)
foo3: TrialEstimate(61.312 ms)

With rand(Exponential(10),10_000_000) data,
foo1: TrialEstimate(843.608 ms)
foo2: TrialEstimate(726.896 ms)
foo3: TrialEstimate(685.157 ms)

###################################

###################################

The number of threads is 4
===================================
Trail 1 with uniform distribution.

With rand(10_000) data,
foo1: TrialEstimate(1.197 ms)
foo2: TrialEstimate(872.095 μs)
foo3: TrialEstimate(674.005 μs)

With rand(100_000) data,
foo1: TrialEstimate(14.330 ms)
foo2: TrialEstimate(3.986 ms)
foo3: TrialEstimate(3.615 ms)

With rand(1_000_000) data,
foo1: TrialEstimate(144.756 ms)
foo2: TrialEstimate(49.816 ms)
foo3: TrialEstimate(49.259 ms)

With rand(10_000_000) data,
foo1: TrialEstimate(1.992 s)
foo2: TrialEstimate(549.002 ms)
foo3: TrialEstimate(535.302 ms)
===================================

The number of threads is 4
===================================
Trail 2 with norm distribution.

With rand(Normal(1,1),10_000) data,
foo1: TrialEstimate(1.034 ms)
foo2: TrialEstimate(1.105 ms)
foo3: TrialEstimate(909.401 μs)

With rand(Normal(1,1),100_000) data,
foo1: TrialEstimate(11.769 ms)
foo2: TrialEstimate(6.478 ms)
foo3: TrialEstimate(4.921 ms)

With rand(Normal(1,1),1_000_000) data,
foo1: TrialEstimate(134.721 ms)
foo2: TrialEstimate(65.785 ms)
foo3: TrialEstimate(82.015 ms)

With rand(Normal(1,1),10_000_000) data,
foo1: TrialEstimate(1.499 s)
foo2: TrialEstimate(691.080 ms)
foo3: TrialEstimate(726.423 ms)
===================================

The number of threads is 4
===================================
Trail 3 with exponential distribution.

With rand(Exponential(10),10_000) data,
foo1: TrialEstimate(603.438 μs)
foo2: TrialEstimate(1.259 ms)
foo3: TrialEstimate(835.904 μs)

With rand(Exponential(10),100_000) data,
foo1: TrialEstimate(6.834 ms)
foo2: TrialEstimate(5.025 ms)
foo3: TrialEstimate(4.594 ms)

With rand(Exponential(10),1_000_000) data,
foo1: TrialEstimate(73.186 ms)
foo2: TrialEstimate(55.800 ms)
foo3: TrialEstimate(65.175 ms)

With rand(Exponential(10),10_000_000) data,
foo1: TrialEstimate(877.348 ms)
foo2: TrialEstimate(689.066 ms)
foo3: TrialEstimate(612.098 ms)

###################################

###################################

The number of threads is 5
===================================
Trail 1 with uniform distribution.

With rand(10_000) data,
foo1: TrialEstimate(1.252 ms)
foo2: TrialEstimate(921.108 μs)
foo3: TrialEstimate(733.314 μs)

With rand(100_000) data,
foo1: TrialEstimate(13.072 ms)
foo2: TrialEstimate(4.207 ms)
foo3: TrialEstimate(3.231 ms)

With rand(1_000_000) data,
foo1: TrialEstimate(157.655 ms)
foo2: TrialEstimate(45.265 ms)
foo3: TrialEstimate(43.154 ms)

With rand(10_000_000) data,
foo1: TrialEstimate(1.800 s)
foo2: TrialEstimate(573.841 ms)
foo3: TrialEstimate(461.637 ms)
===================================

The number of threads is 5
===================================
Trail 2 with norm distribution.

With rand(Normal(1,1),10_000) data,
foo1: TrialEstimate(1.052 ms)
foo2: TrialEstimate(1.158 ms)
foo3: TrialEstimate(967.027 μs)

With rand(Normal(1,1),100_000) data,
foo1: TrialEstimate(10.665 ms)
foo2: TrialEstimate(4.797 ms)
foo3: TrialEstimate(5.009 ms)

With rand(Normal(1,1),1_000_000) data,
foo1: TrialEstimate(119.379 ms)
foo2: TrialEstimate(50.914 ms)
foo3: TrialEstimate(50.285 ms)

With rand(Normal(1,1),10_000_000) data,
foo1: TrialEstimate(1.577 s)
foo2: TrialEstimate(679.683 ms)
foo3: TrialEstimate(591.700 ms)
===================================

The number of threads is 5
===================================
Trail 3 with exponential distribution.

With rand(Exponential(10),10_000) data,
foo1: TrialEstimate(582.101 μs)
foo2: TrialEstimate(945.001 μs)
foo3: TrialEstimate(667.775 μs)

With rand(Exponential(10),100_000) data,
foo1: TrialEstimate(7.418 ms)
foo2: TrialEstimate(4.970 ms)
foo3: TrialEstimate(4.392 ms)

With rand(Exponential(10),1_000_000) data,
foo1: TrialEstimate(77.774 ms)
foo2: TrialEstimate(64.690 ms)
foo3: TrialEstimate(53.456 ms)

With rand(Exponential(10),10_000_000) data,
foo1: TrialEstimate(918.383 ms)
foo2: TrialEstimate(601.439 ms)
foo3: TrialEstimate(560.632 ms)

###################################

###################################

The number of threads is 6
===================================
Trail 1 with uniform distribution.

With rand(10_000) data,
foo1: TrialEstimate(1.325 ms)
foo2: TrialEstimate(1.599 ms)
foo3: TrialEstimate(873.413 μs)

With rand(100_000) data,
foo1: TrialEstimate(14.501 ms)
foo2: TrialEstimate(3.718 ms)
foo3: TrialEstimate(3.250 ms)

With rand(1_000_000) data,
foo1: TrialEstimate(137.339 ms)
foo2: TrialEstimate(46.677 ms)
foo3: TrialEstimate(44.400 ms)

With rand(10_000_000) data,
foo1: TrialEstimate(1.780 s)
foo2: TrialEstimate(535.222 ms)
foo3: TrialEstimate(473.459 ms)
===================================

The number of threads is 6
===================================
Trail 2 with norm distribution.

With rand(Normal(1,1),10_000) data,
foo1: TrialEstimate(1.076 ms)
foo2: TrialEstimate(1.159 ms)
foo3: TrialEstimate(1.168 ms)

With rand(Normal(1,1),100_000) data,
foo1: TrialEstimate(13.427 ms)
foo2: TrialEstimate(5.317 ms)
foo3: TrialEstimate(4.701 ms)

With rand(Normal(1,1),1_000_000) data,
foo1: TrialEstimate(127.380 ms)
foo2: TrialEstimate(82.816 ms)
foo3: TrialEstimate(70.682 ms)

With rand(Normal(1,1),10_000_000) data,
foo1: TrialEstimate(1.911 s)
foo2: TrialEstimate(677.305 ms)
foo3: TrialEstimate(585.562 ms)
===================================

The number of threads is 6
===================================
Trail 3 with exponential distribution.

With rand(Exponential(10),10_000) data,
foo1: TrialEstimate(699.022 μs)
foo2: TrialEstimate(1.111 ms)
foo3: TrialEstimate(700.788 μs)

With rand(Exponential(10),100_000) data,
foo1: TrialEstimate(6.806 ms)
foo2: TrialEstimate(4.354 ms)
foo3: TrialEstimate(4.280 ms)

With rand(Exponential(10),1_000_000) data,
foo1: TrialEstimate(97.386 ms)
foo2: TrialEstimate(61.995 ms)
foo3: TrialEstimate(55.300 ms)

With rand(Exponential(10),10_000_000) data,
foo1: TrialEstimate(871.997 ms)
foo2: TrialEstimate(605.735 ms)
foo3: TrialEstimate(556.422 ms)

###################################

###################################

